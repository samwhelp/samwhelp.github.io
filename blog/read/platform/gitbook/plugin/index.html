<!DOCTYPE html>
<html lang="zh-Hant-TW">

	

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title> gitbook使用plugin | 鵝從未在裡面 </title>
	<meta property="og:title" content=" gitbook使用plugin | 鵝從未在裡面 " />
	<meta name="twitter:title" content=" gitbook使用plugin | 鵝從未在裡面 ">

	<meta property="og:type" content="article">
	<meta name="twitter:card" content="summary">

	<meta name="description" content=" gitbook使用plugin ">
	<meta property="og:description" content=" gitbook使用plugin " />
	<meta name="twitter:description" content=" gitbook使用plugin " />

	<link rel="icon" type="image/x-icon" href="http://samwhelp.github.io/blog/asset/img/favicon.png">

	<link rel="image_src" href="http://samwhelp.github.io/blog/asset/img/logo.png" >
	<meta property="og:image" content="http://samwhelp.github.io/blog/asset/img/logo.png" />

	
	<link href="http://samwhelp.github.io/blog/atom.xml" title="鵝從未在裡面" type="application/atom+xml" rel="alternative">
	

	<link rel="canonical" href="/blog/read/platform/gitbook/plugin/index.html">

	<link rel="stylesheet" href="/blog/asset/css/main.css">

</head>


<body>

	
	<header class="site-header">

		
		<nav class="nav-page">

			<div class="row">

				<ul>

					

					<li><a href="/blog/">Home</a></li>

					

					<li><a href="/blog/find/archive/">Sitemap</a></li>

					

					<li><a href="/blog/find/tag/index/">Index</a></li>

					

					<li><a href="/book/">Book</a></li>

					

				</ul>

			</div>

		</nav>


		<div class="site-header-main">

			<div class="row">

				<h1><a href="/blog/">鵝從未在裡面</a></h1>

				

					<p>Everything will be all right in the end.</p>

				

			</div>

		</div>

		


		<nav class="nav-cat">

			<div class="row">

				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/lang/">lang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/lang/perl/">perl</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/lang/php/">php</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/lang/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/lang/ruby/">ruby</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/debian/">debian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/debian/driver/">driver</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/fedora/">fedora</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/lxqt/">lxqt</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/mint/">mint</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/mint/cinnamon/">cinnamon</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/mint/network/">network</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/mint/sound/">sound</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/protocol/">protocol</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/protocol/mtp/">mtp</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/reference/">reference</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/remote/">remote</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/">ubuntu</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/account/">account</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/disk/">disk</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/driver/">driver</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/editor/">editor</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/font/">font</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/info/">info</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/manual/">manual</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/package/">package</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/process/">process</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/shell/">shell</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/tiling/">tiling</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/linux/ubuntu/workspace/">workspace</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/music/">music</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/platform/">platform</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/platform/gitbook/">gitbook</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/platform/gjs/">gjs</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/platform/nodejs/">nodejs</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/site/">site</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/site/update/">update</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/tool/">tool</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/tool/browser/">browser</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/tool/ebook/">ebook</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/tool/ebook/calibre/">calibre</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/tool/editor/">editor</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/find/category/tool/management/">management</a></li></ul></li></ul>

			</div>

		</nav>




	</header>


	<div id="content" class="site-content">

		
		<div class="row content-post">
			<article itemscope itemtype="http://schema.org/Article">

				

				

				<p class="content-meta">
					<span class="meta-date" itemprop="datePublished" content="2015-01-27">2015-01-27</span>

					
					  <span class="meta-cat">
						<a class="category-link" href="/blog/find/category/platform/">platform</a>, <a class="category-link" href="/blog/find/category/platform/gitbook/">gitbook</a>
					  </span>
					
				</p>

				

					<h2 class="content-title">
						<a href="/blog/read/platform/gitbook/plugin/" itemprop="url"><span itemprop="name">gitbook使用plugin</span></a>
					</h2>

				


				<div class="content" itemprop="articleBody">
					<h1 id="gitbook使用plugin">gitbook使用plugin</h1><h2 id="測試環境">測試環境</h2><p>接續上一篇「<a href="/blog/read/platform/gitbook/start/">Ubuntu環境下，快速開始使用gitbook</a>」。</p>
<h2 id="下載Plugin範例">下載Plugin範例</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd ~/Documents/mybook</span></span><br><span class="line"></span><br><span class="line">$ git <span class="keyword">clone</span> <span class="title">https</span>://github.com/GitbookIO/plugin.git node_modules/gitbook-plugin-sample</span><br></pre></td></tr></table></figure>
<p>就可以看到「node_modules」有一個資料夾「gitbook-plugin-sample」。</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tree node_modules/gitbook-<span class="keyword">plugin</span>-<span class="keyword">sample</span></span><br></pre></td></tr></table></figure>
<p>顯示</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">node_modules/gitbook-plugin-sample</span><br><span class="line">├── book</span><br><span class="line">│   ├── test<span class="class">.css</span></span><br><span class="line">│   └── test<span class="class">.js</span></span><br><span class="line">├── index<span class="class">.js</span></span><br><span class="line">├── LICENSE</span><br><span class="line">├── package<span class="class">.json</span></span><br><span class="line">└── README<span class="class">.md</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> directory, <span class="number">6</span> files</span><br></pre></td></tr></table></figure>
<h2 id="設定使用「gitbook-plugin-sample」這個「Plugin」">設定使用「gitbook-plugin-sample」這個「Plugin」</h2><p>撰寫「book.json」</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>vi book.json</span><br></pre></td></tr></table></figure>
<p>「book.json」填入下面的內容，設定使用「gitbook-plugin-sample」。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"<span class="attribute">plugins</span>": <span class="value">[</span><br><span class="line">		<span class="string">"sample"</span></span><br><span class="line">	]</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>執行下面的指令</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>gitbook build</span><br></pre></td></tr></table></figure>
<p>就會看到下面的訊息</p>
<figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">Starting</span> <span class="function_or_atom">build</span> ...</span><br><span class="line"><span class="function_or_atom">init</span><span class="exclamation_mark">!</span></span><br><span class="line"><span class="function_or_atom">finish</span><span class="exclamation_mark">!</span></span><br><span class="line"><span class="variable">Successfully</span> <span class="function_or_atom">built</span><span class="exclamation_mark">!</span></span><br></pre></td></tr></table></figure>
<p>觀看「node_modules/gitbook-plugin-sample/index.js」</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> node_modules/gitbook-<span class="keyword">plugin</span>-<span class="keyword">sample</span>/index.js</span><br></pre></td></tr></table></figure>
<p>會看到下面兩個「function」，就是顯示「init!」和「finish!」的出處</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">hooks: &#123;</span><br><span class="line">	<span class="comment">// For all the hooks, this represent the current generator</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// This is called before the book is generated</span></span><br><span class="line">	<span class="string">"init"</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"init!"</span>);</span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// This is called after the book generation</span></span><br><span class="line">	<span class="string">"finish"</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"finish!"</span>);</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="利用「npm」查詢有哪些「plugin」和「theme」可以使用">利用「npm」查詢有哪些「plugin」和「theme」可以使用</h2><p>查詢「plugin」</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">search</span> gitbook-<span class="keyword">plugin</span></span><br></pre></td></tr></table></figure>
<p>查詢「theme」</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">npm</span> search gitbook-theme</span><br></pre></td></tr></table></figure>
<h2 id="安裝「gitbook-plugin-ga」">安裝「gitbook-plugin-ga」</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="operator"><span class="keyword">install</span> gitbook-<span class="keyword">plugin</span>-ga</span></span><br></pre></td></tr></table></figure>
<p>就可以看到「node_modules」有一個資料夾「gitbook-plugin-ga」。</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>tree node_modules/gitbook-plugin-ga</span><br></pre></td></tr></table></figure>
<p>顯示</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">node_modules/gitbook-plugin-ga</span><br><span class="line">├── book</span><br><span class="line">│   └── plugin<span class="class">.js</span></span><br><span class="line">├── index<span class="class">.js</span></span><br><span class="line">├── LICENSE</span><br><span class="line">├── package<span class="class">.json</span></span><br><span class="line">└── README<span class="class">.md</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> directory, <span class="number">5</span> files</span><br></pre></td></tr></table></figure>
<h2 id="設定使用「gitbook-plugin-ga」這個「Plugin」">設定使用「gitbook-plugin-ga」這個「Plugin」</h2><p>撰寫「book.json」</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>vi book.json</span><br></pre></td></tr></table></figure>
<p>「book.json」填入下面的內容，設定使用「gitbook-plugin-ga」。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"<span class="attribute">plugins</span>": <span class="value">[</span><br><span class="line">		<span class="string">"sample"</span>,</span><br><span class="line">		<span class="string">"ga"</span></span><br><span class="line">	]</span>,</span><br><span class="line"></span><br><span class="line">	"<span class="attribute">pluginsConfig</span>": <span class="value">&#123;</span><br><span class="line">		"<span class="attribute">ga</span>": <span class="value">&#123;</span><br><span class="line">			"<span class="attribute">token</span>": <span class="value"><span class="string">"UA-XXXX-Y"</span></span><br><span class="line">		</span>&#125;</span><br><span class="line">	</span>&#125;</span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>啟動「server」。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook serve</span><br></pre></td></tr></table></figure>
<p>觀看網頁程式碼，在最下方，可以找到下面這行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">(<span class="function"><span class="keyword">function</span>(<span class="params">i,s,o,g,r,a,m</span>)</span>&#123;i[<span class="string">'GoogleAnalyticsObject'</span>]=r;i[r]=i[r]||<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;(i[r].q=i[r].q||[]).push(<span class="built_in">arguments</span>)&#125;,i[r].l=<span class="number">1</span>*<span class="keyword">new</span> <span class="built_in">Date</span>();a=s.createElement(o),m=s.getElementsByTagName(o)[<span class="number">0</span>];a.async=<span class="number">1</span>;a.src=g;m.parentNode.insertBefore(a,m)&#125;)(<span class="built_in">window</span>,<span class="built_in">document</span>,<span class="string">'script'</span>,<span class="string">'//www.google-analytics.com/analytics.js'</span>,<span class="string">'ga'</span>);ga(<span class="string">'create'</span>, <span class="string">'UA-XXXX-Y'</span>, <span class="string">'auto'</span>);ga(<span class="string">'send'</span>, <span class="string">'pageview'</span>);</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="暫時紀錄">暫時紀錄</h2><p>在「<a href="https://github.com/GitbookIO/gitbook/blob/master/lib/generate/config.js#L48" target="_blank" rel="external">lib/generate/config.js</a>」，可以看到</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// Set another theme with your own layout</span></span><br><span class="line"><span class="comment">// It's recommended to use plugins or add more options for default theme, though</span></span><br><span class="line"><span class="comment">// See https://github.com/GitbookIO/gitbook/issues/209</span></span><br><span class="line"><span class="string">"theme"</span>: path.<span class="function"><span class="title">resolve</span><span class="params">(__dirname, <span class="string">'../../theme'</span>)</span></span>,</span><br></pre></td></tr></table></figure>

				</div>

				

					<div class="content-tag">

						 <a class="tag-link" href="/blog/find/tag/basic-skill/">basic-skill</a>, <a class="tag-link" href="/blog/find/tag/ebook/">ebook</a>, <a class="tag-link" href="/blog/find/tag/gitbook/">gitbook</a>, <a class="tag-link" href="/blog/find/tag/基本功/">基本功</a>

					</div>

				

			</article>

			<div class="content-nav">

				
					<a href="/blog/read/platform/gitbook/editor/" title="Ubuntu環境下，安裝gitbook-editor">&larr; Prev</a>
				

				
					<a href="/blog/read/tool/ebook/calibre/ebook-convert-recipe/" title="Ubuntu環境下，如何使用calibre ebook-convert recipe的功能">Next &rarr;</a>
				

			</div>

		</div>


	</div>

	
	<footer class="site-footer">

		<div class="row">

			<p class="cr">&copy; 2016 samwhelp </p>

			<p class="theme">Powered: <a href="http://hexo.io/"  target="_blank">Hexo</a>, Theme: <a href="https://github.com/samwhelp/hexo-theme-nadya" target="_blank">Nadya</a> remastered from <a href="https://github.com/nadymain/hexo-theme-nadymain" target="_blank">NadyMain</a></p>

		</div>

	</footer>

	

<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-55644249-1', 'auto');
	ga('send', 'pageview');
</script>




</body>
</html>
